<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BurnLab â€“ Shopping Cart</title>

<style>
:root {
  --burn-dark: #1a2a46;
  --burn-mid: #23395d;
  --burn-accent: #007bff;
  --burn-light: #9ec5ff;
  --burn-bg: #f5f8fc;
}

body {
  font-family: "Segoe UI", Arial, sans-serif;
  background: var(--burn-bg);
  margin: 0;
}

header {
  background: var(--burn-mid);
  color: #fff;
  text-align: center;
  padding: 1.5rem;
  font-size: 1.6rem;
  font-weight: bold;
}

.nav-links {
  background: var(--burn-dark);
  padding: .8rem 2rem;
  text-align: right;
}

.nav-links a {
  color: var(--burn-light);
  margin-left: 1rem;
  text-decoration: none;
  font-weight: 600;
}

table {
  margin: 40px auto;
  width: 85%;
  border-collapse: collapse;
  background:#fff;
  overflow:hidden;
  border-radius:8px;
  box-shadow:0 2px 10px rgba(0,0,0,0.1);
}

th {
  background: var(--burn-accent);
  color:#fff;
  padding:12px;
}

td {
  padding:12px;
  text-align:center;
  border-bottom:1px solid #ddd;
}

tr:nth-child(even) td { background:#fafafa; }
tr:hover td { background:#eef4ff; }

.total {
  width:85%;
  margin:25px auto;
  background:#fff;
  padding:15px;
  text-align:right;
  font-size:1.2rem;
  border-radius:8px;
  box-shadow:0 2px 10px rgba(0,0,0,0.1);
}

.checkout-btn {
  background:var(--burn-accent);
  color:#fff;
  padding:8px 16px;
  border-radius:6px;
  text-decoration:none;
  font-weight:bold;
}
</style>
</head>
{% if user.is_authenticated and not user.is_seller and not user.is_staff %}
<body>

<header>Shopping Cart</header>

<div class="nav-links">
  <a href="/buyerHome">Home</a>
  <a href="/logout">Logout</a>
</div>

<table>
  <tr>
    <th>Product</th>
    <th>Qty</th>
    <th>Price</th>
    <th>Action</th>
  </tr>

  {% for item in product_data %}
  <tr>
    <td>{{ item.title }}</td>
    <td>{{ item.quantity }}</td>
    <td>${{ item.price }}</td>
    <td><a href="?product_id={{ item.product_id }}" style="color:red;font-weight:bold;">Remove</a></td>
  </tr>
  {% empty %}
  <tr><td colspan="4" style="font-style:italic;color:#777;">Cart is empty</td></tr>
  {% endfor %}
</table>

<div class="total">
  <strong>Total: </strong>${{ total_price }}
  <a class="checkout-btn" href="/checkout/">Checkout</a>
</div>
{% else %}
  <script>
    window.location.href = "/home";
  </script>
{% endif %}
</body>
</html>
